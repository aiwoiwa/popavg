const v_accordion_grid_tbody={template:"#v-accordion-grid-tbody-template",data:function(){return{isOpened:!1}},props:{item:Object},methods:{toggle:function(){this.isOpened=!this.isOpened,this.isOpened&&this.$parent.showDatail(this.item)},beforeEnter:function(el){Vue.nextTick(()=>{el.style.height="0"})},enter:function(el){Vue.nextTick(()=>{el.style.height=`${el.scrollHeight}px`})},beforeLeave:function(el){Vue.nextTick(()=>{el.style.height=`${el.scrollHeight}px`})},leave:function(el){Vue.nextTick(()=>{el.style.height="0"})}}},v_accordion_grid={template:"#v-accordion-grid-template",components:{"v-accordion-grid-tbody":v_accordion_grid_tbody},data:function(){const sortOrders={};return this.columns.forEach((function(key){sortOrders[key]=1})),{sortKey:"",sortOrders:sortOrders}},props:{items:Array,columns:Array},computed:{sortedItems:function(){const sortKey=this.sortKey,order=this.sortOrders[sortKey]||1;let items=this.items;return sortKey&&(items=items.slice().sort((function(a,b){return~["lv","pf_rate","fc_rate","clear_rate","max"].indexOf(sortKey)?(a=Number(a[sortKey]),b=Number(b[sortKey])):(a=a[sortKey],b=b[sortKey]),(a===b?0:a>b?1:-1)*order}))),items}},methods:{showDatail:function(item){Vue.nextTick(()=>{const pie=document.getElementById(`canvas-pie-${item.id}`);new Chart(pie,{type:"pie",data:{labels:["★","★","◆","●","★","◆","●","Easy","★","◆","●"],datasets:[{backgroundColor:["#ffd700","#c0c0c0","#c0c0c0","#c0c0c0","#cf622d","#cf622d","#cf622d","#08d078","#494967","#494967","#494967"],data:[item.num_of_perfect,item.num_of_fullCombo_good_1_5,item.num_of_fullCombo_good_6_20,item.num_of_fullCombo_good_21_,item.num_of_clear_bad_1_5,item.num_of_clear_bad_6_20,item.num_of_clear_bad_21_,item.num_of_easy,item.num_of_failed_gauge_16_15,item.num_of_failed_gauge_14_12,item.num_of_failed_gauge_11_0]}]},options:{title:{display:!1},legend:{position:"right",labels:{fontFamily:"'メイリオ',Meiryo,monospace,sans-serif",fontColor:"#cfd2da",fontSize:12}}}});const line=document.getElementById(`canvas-line-${item.id}`);new Chart(line,{type:"line",data:{labels:["99.0","99.1","99.2","99.3","99.4","99.5","99.6","99.7","99.8","99.9","100.0","100.1","100.2以上"],datasets:[{label:"max",data:item.avg_scores_group_by_popn_class.map(i=>i.max),borderColor:"#ff6384"},{label:"median",data:item.avg_scores_group_by_popn_class.map(i=>Math.round(i.median)),borderColor:"#4bc0c0"},{label:"avg",data:item.avg_scores_group_by_popn_class.map(i=>Math.round(i.avg)),borderColor:"#ff9f40"}]},options:{title:{display:!1},legend:{display:!0,position:"right",labels:{fontFamily:"'メイリオ',Meiryo,monospace,sans-serif",fontColor:"#cfd2da",fontSize:12}},scales:{xAxes:[{ticks:{fontColor:"#cfd2da"},display:!0,stacked:!1,gridLines:{color:"#9fa5b5"}}],yAxes:[{ticks:{fontColor:"#cfd2da",suggestedMax:1e5,suggestedMin:9e4,stepSize:1e3,callback:function(val){return val}},gridLines:{color:"#9fa5b5"}}]}}})})},sortBy:function(key){console.log(key),this.sortKey=key,this.sortOrders[key]=-1*this.sortOrders[key]}}},app=new Vue({el:"#app",components:{"v-accordion-grid":v_accordion_grid},data:{gridItems:data,gridColumns:["lv","version","genre","pf_rate","fc_rate","clear_rate","max"]}});